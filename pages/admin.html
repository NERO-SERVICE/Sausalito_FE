<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>소살리토 | 관리자 대시보드</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;800&family=Pretendard:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div id="siteHeaderMount"></div>

    <main class="admin-main">
      <section class="admin-head">
        <div>
          <h2>관리자 대시보드</h2>
          <p>주문, 배송, 문의, 리뷰, 쿠폰을 한 화면에서 관리합니다.</p>
        </div>
        <div class="admin-head-actions">
          <button class="ghost" type="button" id="adminReloadBtn">새로고침</button>
        </div>
      </section>

      <section class="admin-summary-grid" id="adminSummary"></section>

      <section class="admin-card">
        <div class="admin-card-head">
          <h3>주문·배송 관리</h3>
          <div class="admin-filter-row">
            <input type="text" id="adminOrderSearch" placeholder="주문번호/수령인/전화/이메일 검색" />
            <select id="adminOrderStatusFilter">
              <option value="">주문상태 전체</option>
              <option value="PENDING">PENDING</option>
              <option value="PAID">PAID</option>
              <option value="FAILED">FAILED</option>
              <option value="CANCELED">CANCELED</option>
              <option value="REFUNDED">REFUNDED</option>
              <option value="PARTIAL_REFUNDED">PARTIAL_REFUNDED</option>
            </select>
            <select id="adminPaymentStatusFilter">
              <option value="">결제상태 전체</option>
              <option value="UNPAID">UNPAID</option>
              <option value="READY">READY</option>
              <option value="APPROVED">APPROVED</option>
              <option value="CANCELED">CANCELED</option>
              <option value="FAILED">FAILED</option>
            </select>
            <select id="adminShippingStatusFilter">
              <option value="">배송상태 전체</option>
              <option value="READY">READY</option>
              <option value="PREPARING">PREPARING</option>
              <option value="SHIPPED">SHIPPED</option>
              <option value="DELIVERED">DELIVERED</option>
            </select>
            <button class="primary" type="button" id="adminOrderSearchBtn">조회</button>
          </div>
        </div>
        <div class="admin-order-table-wrap" id="adminOrders"></div>
      </section>

      <section class="admin-card">
        <div class="admin-card-head">
          <h3>1:1 문의 답변</h3>
          <select id="adminInquiryStatusFilter">
            <option value="">상태 전체</option>
            <option value="OPEN">OPEN</option>
            <option value="ANSWERED">ANSWERED</option>
            <option value="CLOSED">CLOSED</option>
          </select>
        </div>
        <div id="adminInquiries"></div>
      </section>

      <section class="admin-card">
        <div class="admin-card-head">
          <h3>리뷰 노출 관리</h3>
          <select id="adminReviewStatusFilter">
            <option value="">상태 전체</option>
            <option value="VISIBLE">VISIBLE</option>
            <option value="HIDDEN">HIDDEN</option>
            <option value="DELETED">DELETED</option>
          </select>
        </div>
        <div id="adminReviews"></div>
      </section>

      <section class="admin-card">
        <div class="admin-card-head">
          <h3>쿠폰 발급</h3>
        </div>
        <form class="admin-coupon-form" id="adminCouponForm">
          <label>
            <span>발급대상</span>
            <select id="couponTarget" required>
              <option value="ALL">전체 일반회원</option>
              <option value="EMAIL">특정 이메일</option>
            </select>
          </label>
          <label id="couponEmailField" class="hidden">
            <span>회원 이메일</span>
            <input type="email" id="couponEmail" placeholder="member@sausalito.com" />
          </label>
          <label>
            <span>쿠폰명</span>
            <input type="text" id="couponName" required maxlength="150" placeholder="봄맞이 할인 쿠폰" />
          </label>
          <label>
            <span>쿠폰코드</span>
            <input type="text" id="couponCode" required maxlength="64" placeholder="SPRING2026" />
          </label>
          <label>
            <span>할인금액(원)</span>
            <input type="number" id="couponDiscountAmount" required min="0" value="1000" />
          </label>
          <label>
            <span>최소 주문금액(원)</span>
            <input type="number" id="couponMinOrderAmount" required min="0" value="0" />
          </label>
          <label>
            <span>만료일시 (선택)</span>
            <input type="datetime-local" id="couponExpiresAt" />
          </label>
          <button class="primary" type="submit">쿠폰 발급</button>
        </form>

        <div class="admin-card-head">
          <h4>최근 발급/보유 쿠폰</h4>
          <input type="text" id="adminCouponSearch" placeholder="이메일/코드/쿠폰명 검색" />
        </div>
        <div id="adminCoupons"></div>
      </section>
    </main>

    <div id="siteFooterMount"></div>

    <script type="module" src="../scripts/pages/admin.js"></script>
  </body>
</html>
