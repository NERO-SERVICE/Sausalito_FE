import{m as a,a as s,g as o,s as i}from"./footer-5xJtchcy.js";import{c}from"./cart-service-C6sXeXRB.js";import{f as m}from"./api-lDZN3vsg.js";const d=a({showCart:!0,currentNav:"review"});s();const u=o();i(d,{userName:u?.name||null,cartCountValue:c()});const l=document.getElementById("reviewWriteForm"),f=document.getElementById("reviewProductSelect"),n=document.getElementById("reviewImagesInput"),g=document.getElementById("reviewImagePreview"),p=Number(new URLSearchParams(location.search).get("productId"));function v(e){g.innerHTML=e.map(t=>`<img src="${URL.createObjectURL(t)}" alt="리뷰 이미지 미리보기" />`).join("")}n.addEventListener("change",()=>{const e=[...n.files].slice(0,3);n.files.length>3&&alert("이미지는 최대 3장까지 첨부할 수 있습니다.");const t=new DataTransfer;e.forEach(r=>t.items.add(r)),n.files=t.files,v(e)});l.addEventListener("submit",e=>{e.preventDefault(),alert("리뷰가 등록되었습니다. (API 연동 예정)"),location.href="/pages/reviews.html"});(async function(){const t=await m();f.innerHTML=t.map(r=>`<option value="${r.id}" ${r.id===p?"selected":""}>${r.name}</option>`).join("")})();
