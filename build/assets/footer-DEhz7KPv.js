(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const f={cart:"sausalito_cart",wishlist:"sausalito_wishlist",user:"sausalito_user",tokens:"sausalito_tokens"};function H(e,t){try{return JSON.parse(localStorage.getItem(e)||JSON.stringify(t))}catch{return t}}function y(e,t){localStorage.setItem(e,JSON.stringify(t))}const te="http://127.0.0.1:8000/api/v1".replace(/\/$/,"");let B=null;class ne extends Error{constructor(t,n=500,i="API_ERROR",s={}){super(t),this.name="ApiError",this.status=n,this.code=i,this.details=s}}function D(){return H(f.tokens,null)}function j(e){y(f.tokens,e)}function M(){y(f.tokens,null)}function J(e,t={}){const n=e.startsWith("/")?e:`/${e}`,i=new URL(`${te}${n}`);return Object.entries(t).forEach(([s,r])=>{r==null||r===""||i.searchParams.set(s,String(r))}),i.toString()}async function W(e){const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return null}}function ie(e,t){const n=t?.error||{},i=n.message||t?.message||"요청 처리 중 오류가 발생했습니다.";return new ne(i,e,n.code||"API_ERROR",n.details||{})}async function se(){const e=D();return e?.refresh?B||(B=(async()=>{const t=await fetch(J("/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:e.refresh})}),n=await W(t);if(!t.ok||n?.success===!1)return M(),y(f.user,null),!1;const i=n?.data||n;return i?.access?(j({access:i.access,refresh:i.refresh||e.refresh}),!0):(M(),y(f.user,null),!1)})().catch(()=>(M(),y(f.user,null),!1)).finally(()=>{B=null}),B):!1}async function o(e,{method:t="GET",query:n={},body:i,auth:s=!0,isForm:r=!1,retryOnAuth:a=!0}={}){const u={},d=D();r||(u["Content-Type"]="application/json"),s&&d?.access&&(u.Authorization=`Bearer ${d.access}`);const p=await fetch(J(e,n),{method:t,headers:u,body:i?r?i:JSON.stringify(i):void 0}),l=await W(p);if(p.status===401&&s&&a&&d?.refresh&&await se())return o(e,{method:t,query:n,body:i,auth:s,isForm:r,retryOnAuth:!1});if(!p.ok||l?.success===!1)throw ie(p.status,l);return l?.data!==void 0?l.data:l}function R(e){return e?Array.isArray(e)?e:Array.isArray(e.results)?e.results:[]:[]}function re(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}.${i}.${s}`}function S(e={}){const t=Number(e.rating??e.rating_avg??e.review_summary?.avg??0),n=Number(e.reviews??e.review_count??e.review_summary?.count??0);return{id:e.id,name:e.name||"",oneLine:e.oneLine??e.one_line??"",description:e.description||"",price:Number(e.price||0),originalPrice:Number(e.originalPrice??e.original_price??e.price??0),stock:Number(e.stock||0),badges:Array.isArray(e.badges)?e.badges:[],rating:t,reviews:n,popularScore:Number(e.popularScore??e.popular_score??0),releaseDate:e.releaseDate??e.release_date??"",image:e.image||e.images?.find(i=>i.is_thumbnail)?.url||e.images?.[0]?.url||""}}function oe(e={}){return{...S(e),intake:e.intake||"",target:e.target||"",ingredients:Array.isArray(e.ingredients)?e.ingredients:[],cautions:Array.isArray(e.cautions)?e.cautions:[],faq:Array.isArray(e.faq)?e.faq:[],images:Array.isArray(e.images)?e.images.map(n=>n.url).filter(Boolean):[],options:Array.isArray(e.options)?e.options.map(n=>({id:n.id,name:n.name,price:Number(n.price||0),stock:Number(n.stock||0)})):[]}}function G(){return{couponText:"",shippingFee:3e3,freeShippingThreshold:5e4,interestFreeText:"",purchaseTypes:[],subscriptionBenefit:"",optionsLabel:"상품구성",options:[],addOns:[],todayShipText:"",inquiryCount:0,detailImages:[]}}function ae(e){return e?{couponText:e.coupon_text||"",shippingFee:Number(e.shipping_fee||3e3),freeShippingThreshold:Number(e.free_shipping_threshold||5e4),interestFreeText:e.interest_free_text||"",purchaseTypes:Array.isArray(e.purchase_types)?e.purchase_types:[],subscriptionBenefit:e.subscription_benefit||"",optionsLabel:e.options_label||"상품구성",options:Array.isArray(e.options)?e.options.map(t=>({id:t.id,name:t.name,price:Number(t.price||0),stock:Number(t.stock||0)})):[],addOns:Array.isArray(e.add_ons)?e.add_ons:[],todayShipText:e.today_ship_text||"",inquiryCount:Number(e.inquiry_count||0),detailImages:Array.isArray(e.detail_images)?e.detail_images:[]}:G()}function L(e={}){const t=Array.isArray(e.images)?e.images.map(i=>typeof i=="string"?i:i&&typeof i=="object"&&i.url||"").filter(Boolean):[],n=e.image||t[0]||"";return{id:e.id,productId:Number(e.productId??e.product_id??e.product?.id??0),user:e.user||e.user_masked||"익명",score:Number(e.score||0),text:e.text||e.content||"",date:e.date||re(e.created_at),helpful:Number(e.helpful??e.helpful_count??0),image:n,images:t,createdAt:e.created_at||null}}function ue(e={}){return{id:e.id,orderNo:e.order_no||e.orderNo||"",status:e.status||"",paymentStatus:e.payment_status||e.paymentStatus||"",totalAmount:Number(e.total_amount??e.totalAmount??0),createdAt:e.created_at||e.createdAt||null,recipient:e.recipient||"",itemCount:Array.isArray(e.items)?e.items.length:0,items:Array.isArray(e.items)?e.items:[]}}function F(e={}){return{id:e.id,txType:e.tx_type||e.txType||"",amount:Number(e.amount||0),balanceAfter:Number(e.balance_after??e.balanceAfter??0),description:e.description||"",createdAt:e.created_at||e.createdAt||null}}function de(e={}){return{id:e.id,name:e.name||"",code:e.code||"",discountAmount:Number(e.discount_amount??e.discountAmount??0),minOrderAmount:Number(e.min_order_amount??e.minOrderAmount??0),expiresAt:e.expires_at||e.expiresAt||null,isUsed:!!(e.is_used??e.isUsed),usedAt:e.used_at||e.usedAt||null,isExpired:!!(e.is_expired??e.isExpired),createdAt:e.created_at||e.createdAt||null}}function ce(e={}){const t=e.shopping||{},n=e.activity||{},i=t.summary||{};return{shopping:{summary:{orderCount:Number(i.order_count??i.orderCount??0),pointBalance:Number(i.point_balance??i.pointBalance??0),depositBalance:Number(i.deposit_balance??i.depositBalance??0),couponCount:Number(i.coupon_count??i.couponCount??0)},orders:Array.isArray(t.orders)?t.orders.map(ue):[],pointHistory:Array.isArray(t.point_history)?t.point_history.map(F):[],depositHistory:Array.isArray(t.deposit_history)?t.deposit_history.map(F):[],couponHistory:Array.isArray(t.coupon_history)?t.coupon_history.map(de):[]},activity:{recentProducts:Array.isArray(n.recent_products)?n.recent_products.map(S):[],wishlistProducts:Array.isArray(n.wishlist_products)?n.wishlist_products.map(S):[],myReviews:Array.isArray(n.my_reviews)?n.my_reviews.map(L):[]},profile:e.profile||null,inquiries:Array.isArray(e.inquiries)?e.inquiries:[]}}function Y(e={}){return{id:e.id,orderNo:e.order_no||e.orderNo||"",userEmail:e.user_email||e.userEmail||"",userName:e.user_name||e.userName||"",status:e.status||"",paymentStatus:e.payment_status||e.paymentStatus||"",shippingStatus:e.shipping_status||e.shippingStatus||"",subtotalAmount:Number(e.subtotal_amount??e.subtotalAmount??0),shippingFee:Number(e.shipping_fee??e.shippingFee??0),discountAmount:Number(e.discount_amount??e.discountAmount??0),totalAmount:Number(e.total_amount??e.totalAmount??0),recipient:e.recipient||"",phone:e.phone||"",postalCode:e.postal_code||e.postalCode||"",roadAddress:e.road_address||e.roadAddress||"",jibunAddress:e.jibun_address||e.jibunAddress||"",detailAddress:e.detail_address||e.detailAddress||"",courierName:e.courier_name||e.courierName||"",trackingNo:e.tracking_no||e.trackingNo||"",invoiceIssuedAt:e.invoice_issued_at||e.invoiceIssuedAt||null,shippedAt:e.shipped_at||e.shippedAt||null,deliveredAt:e.delivered_at||e.deliveredAt||null,createdAt:e.created_at||e.createdAt||null,itemCount:Number(e.item_count??e.itemCount??0),returnRequestCount:Number(e.return_request_count??e.returnRequestCount??0),hasOpenReturn:!!(e.has_open_return??e.hasOpenReturn),settlementStatus:e.settlement_status||e.settlementStatus||""}}function X(e={}){return{id:e.id,userEmail:e.user_email||e.userEmail||"",userName:e.user_name||e.userName||"",title:e.title||"",content:e.content||"",category:e.category||"ETC",priority:e.priority||"NORMAL",status:e.status||"",channel:e.channel||"WEB",assignedAdminId:Number(e.assigned_admin_id??e.assignedAdminId??0)||null,assignedAdminEmail:e.assigned_admin_email||e.assignedAdminEmail||"",internalNote:e.internal_note||e.internalNote||"",answer:e.answer||"",firstResponseAt:e.first_response_at||e.firstResponseAt||null,answeredAt:e.answered_at||e.answeredAt||null,resolvedAt:e.resolved_at||e.resolvedAt||null,slaDueAt:e.sla_due_at||e.slaDueAt||null,isSlaOverdue:!!(e.is_sla_overdue??e.isSlaOverdue),createdAt:e.created_at||e.createdAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function K(e={}){return{id:e.id,productId:Number(e.product_id??e.productId??0),productName:e.product_name||e.productName||"",userEmail:e.user_email||e.userEmail||"",userName:e.user_name||e.userName||"",score:Number(e.score||0),title:e.title||"",content:e.content||"",status:e.status||"",helpfulCount:Number(e.helpful_count??e.helpfulCount??0),createdAt:e.created_at||e.createdAt||null,images:Array.isArray(e.images)?e.images.filter(Boolean):[]}}function $(e={}){return{id:e.id,orderNo:e.order_no||e.orderNo||"",userEmail:e.user_email||e.userEmail||"",status:e.status||"",reasonTitle:e.reason_title||e.reasonTitle||"",reasonDetail:e.reason_detail||e.reasonDetail||"",requestedAmount:Number(e.requested_amount??e.requestedAmount??0),approvedAmount:Number(e.approved_amount??e.approvedAmount??0),rejectedReason:e.rejected_reason||e.rejectedReason||"",pickupCourierName:e.pickup_courier_name||e.pickupCourierName||"",pickupTrackingNo:e.pickup_tracking_no||e.pickupTrackingNo||"",adminNote:e.admin_note||e.adminNote||"",requestedAt:e.requested_at||e.requestedAt||null,approvedAt:e.approved_at||e.approvedAt||null,receivedAt:e.received_at||e.receivedAt||null,refundedAt:e.refunded_at||e.refundedAt||null,closedAt:e.closed_at||e.closedAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function Q(e={}){return{id:e.id,orderNo:e.order_no||e.orderNo||"",userEmail:e.user_email||e.userEmail||"",status:e.status||"",grossAmount:Number(e.gross_amount??e.grossAmount??0),discountAmount:Number(e.discount_amount??e.discountAmount??0),shippingFee:Number(e.shipping_fee??e.shippingFee??0),pgFee:Number(e.pg_fee??e.pgFee??0),platformFee:Number(e.platform_fee??e.platformFee??0),returnDeduction:Number(e.return_deduction??e.returnDeduction??0),settlementAmount:Number(e.settlement_amount??e.settlementAmount??0),expectedPayoutDate:e.expected_payout_date||e.expectedPayoutDate||null,paidAt:e.paid_at||e.paidAt||null,memo:e.memo||"",orderCreatedAt:e.order_created_at||e.orderCreatedAt||null,orderPaymentStatus:e.order_payment_status||e.orderPaymentStatus||"",orderShippingStatus:e.order_shipping_status||e.orderShippingStatus||"",orderSubtotalAmount:Number(e.order_subtotal_amount??e.orderSubtotalAmount??0),orderShippingFee:Number(e.order_shipping_fee??e.orderShippingFee??0),orderDiscountAmount:Number(e.order_discount_amount??e.orderDiscountAmount??0),orderTotalAmount:Number(e.order_total_amount??e.orderTotalAmount??0),createdAt:e.created_at||e.createdAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function I(e={}){return{id:Number(e.id||0),subtitle:e.subtitle||"",title:e.title||"",description:e.description||"",ctaText:e.cta_text||e.ctaText||"",linkUrl:e.link_url||e.linkUrl||"",sortOrder:Number(e.sort_order??e.sortOrder??0),isActive:!!(e.is_active??e.isActive),imageUrl:e.image_url||e.imageUrl||"",createdAt:e.created_at||e.createdAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function z(e={}){return{id:Number(e.id||0),categoryId:Number(e.category_id??e.categoryId??0)||null,name:e.name||"",sku:e.sku||"",oneLine:e.one_line||e.oneLine||"",description:e.description||"",intake:e.intake||"",target:e.target||"",manufacturer:e.manufacturer||"",originCountry:e.origin_country||e.originCountry||"",taxStatus:e.tax_status||e.taxStatus||"TAXABLE",deliveryFee:Number(e.delivery_fee??e.deliveryFee??0),freeShippingAmount:Number(e.free_shipping_amount??e.freeShippingAmount??0),searchKeywords:Array.isArray(e.search_keywords)?e.search_keywords:[],releaseDate:e.release_date||e.releaseDate||"",displayStartAt:e.display_start_at||e.displayStartAt||null,displayEndAt:e.display_end_at||e.displayEndAt||null,price:Number(e.price??0),originalPrice:Number(e.original_price??e.originalPrice??0),stock:Number(e.stock??0),isActive:!!(e.is_active??e.isActive),categoryName:e.category_name||e.categoryName||"",badgeTypes:Array.isArray(e.badge_types)?e.badge_types:[],thumbnailUrl:e.thumbnail_url||e.thumbnailUrl||"",images:Array.isArray(e.images)?e.images.map(t=>({id:Number(t.id||0),imageUrl:t.image_url||t.imageUrl||"",isThumbnail:!!(t.is_thumbnail??t.isThumbnail),sortOrder:Number(t.sort_order??t.sortOrder??0)})):[],createdAt:e.created_at||e.createdAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function me(e={}){return{id:Number(e.id||0),email:e.email||"",name:e.name||"",phone:e.phone||"",isActive:!!(e.is_active??e.isActive),isStaff:!!(e.is_staff??e.isStaff),orderCount:Number(e.order_count??e.orderCount??0),reviewCount:Number(e.review_count??e.reviewCount??0),inquiryCount:Number(e.inquiry_count??e.inquiryCount??0),createdAt:e.created_at||e.createdAt||null,lastLogin:e.last_login||e.lastLogin||null}}async function V({productId:e,sort:t="latest",hasImage:n,pageSize:i=100}={}){let s=1,r=null;const a=[];for(;s<=100;){const u=await o("/reviews",{query:{product_id:e,sort:t,has_image:typeof n=="boolean"?String(n):void 0,page:s,page_size:i},auth:!1,retryOnAuth:!1}),d=R(u);if(a.push(...d.map(L)),typeof u?.count=="number"&&(r=u.count),!u?.next||r!==null&&a.length>=r)break;s+=1}return a}async function pe({email:e,password:t}){return o("/auth/login",{method:"POST",body:{email:e,password:t},auth:!1,retryOnAuth:!1})}async function le({refresh:e}){return o("/auth/logout",{method:"POST",body:{refresh:e}})}async function _e(){return o("/users/me")}async function ge({q:e,sort:t,minPrice:n,maxPrice:i}={}){const s=await o("/products",{query:{q:e,sort:t,min_price:n,max_price:i,page_size:100},auth:!1,retryOnAuth:!1});return R(s).map(S)}async function Ae(e){if(!e)return null;const t=await o(`/products/${e}`,{auth:!1,retryOnAuth:!1});return oe(t)}async function be(e){if(!e)return G();const t=await o(`/products/${e}/detail-meta`,{auth:!1,retryOnAuth:!1});return ae(t)}async function ve(e){return e?V({productId:e,sort:"latest",pageSize:100}):[]}async function Ne(){return o("/banners/home",{auth:!1,retryOnAuth:!1})}async function Se(e=6){const t=await o("/reviews",{query:{sort:"helpful",page_size:e,page:1},auth:!1,retryOnAuth:!1});return R(t).map(L).slice(0,e)}async function Ce(){return V({sort:"latest",pageSize:100})}async function ke(){const e=await o("/users/me/dashboard");return ce(e)}async function qe({name:e,phone:t}){return o("/users/me",{method:"PATCH",body:{name:e,phone:t}})}async function Oe({oldPassword:e,newPassword:t,newPasswordConfirm:n}){return o("/users/me/password",{method:"POST",body:{old_password:e,new_password:t,new_password_confirm:n}})}async function Pe(){const e=await o("/users/me/wishlist");return Array.isArray(e)?e.map(S):[]}async function Ee(e){const t=await o("/users/me/wishlist",{method:"POST",body:{product_id:e}});return S(t||{})}async function xe(e){return o(`/users/me/wishlist/${e}`,{method:"DELETE"})}async function Te(e){return o("/users/me/recent-products",{method:"POST",body:{product_id:e}})}async function Be({title:e,content:t}){return o("/users/me/inquiries",{method:"POST",body:{title:e,content:t}})}async function Me(){const e=await o("/admin/dashboard"),t=e?.summary||{};return{summary:{currentMonth:t.current_month||t.currentMonth||"",thisMonthOrderCount:Number(t.this_month_order_count??t.thisMonthOrderCount??0),thisMonthPaidOrderCount:Number(t.this_month_paid_order_count??t.thisMonthPaidOrderCount??0),thisMonthOrderAmount:Number(t.this_month_order_amount??t.thisMonthOrderAmount??0),thisMonthPaidAmount:Number(t.this_month_paid_amount??t.thisMonthPaidAmount??0),thisMonthRefundAmount:Number(t.this_month_refund_amount??t.thisMonthRefundAmount??0),thisMonthNewUserCount:Number(t.this_month_new_user_count??t.thisMonthNewUserCount??0),thisMonthInquiryCount:Number(t.this_month_inquiry_count??t.thisMonthInquiryCount??0),thisMonthPaidSettlementAmount:Number(t.this_month_paid_settlement_amount??t.thisMonthPaidSettlementAmount??0),openOrderCount:Number(t.open_order_count??t.openOrderCount??0),shippingPendingCount:Number(t.shipping_pending_count??t.shippingPendingCount??0),shippingShippedCount:Number(t.shipping_shipped_count??t.shippingShippedCount??0),shippingDeliveredCount:Number(t.shipping_delivered_count??t.shippingDeliveredCount??0),openInquiryCount:Number(t.open_inquiry_count??t.openInquiryCount??0),overdueInquiryCount:Number(t.overdue_inquiry_count??t.overdueInquiryCount??0),hiddenReviewCount:Number(t.hidden_review_count??t.hiddenReviewCount??0),openReturnCount:Number(t.open_return_count??t.openReturnCount??0),completedReturnCount:Number(t.completed_return_count??t.completedReturnCount??0),pendingSettlementAmount:Number(t.pending_settlement_amount??t.pendingSettlementAmount??0),paidSettlementAmount:Number(t.paid_settlement_amount??t.paidSettlementAmount??0)},monthlyMetrics:Array.isArray(e?.monthly_metrics)?e.monthly_metrics.map(n=>({month:n.month||"",orderCount:Number(n.order_count??n.orderCount??0),paidOrderCount:Number(n.paid_order_count??n.paidOrderCount??0),orderAmount:Number(n.order_amount??n.orderAmount??0),paidAmount:Number(n.paid_amount??n.paidAmount??0),refundAmount:Number(n.refund_amount??n.refundAmount??0),returnRequestCount:Number(n.return_request_count??n.returnRequestCount??0),newUserCount:Number(n.new_user_count??n.newUserCount??0),inquiryCount:Number(n.inquiry_count??n.inquiryCount??0),paidSettlementCount:Number(n.paid_settlement_count??n.paidSettlementCount??0),paidSettlementAmount:Number(n.paid_settlement_amount??n.paidSettlementAmount??0)})):[],statusSectors:{shipping:{ready:Number(e?.status_sectors?.shipping?.ready??e?.statusSectors?.shipping?.ready??0),preparing:Number(e?.status_sectors?.shipping?.preparing??e?.statusSectors?.shipping?.preparing??0),shipped:Number(e?.status_sectors?.shipping?.shipped??e?.statusSectors?.shipping?.shipped??0),delivered:Number(e?.status_sectors?.shipping?.delivered??e?.statusSectors?.shipping?.delivered??0)},returns:{requested:Number(e?.status_sectors?.returns?.requested??e?.statusSectors?.returns?.requested??0),approved:Number(e?.status_sectors?.returns?.approved??e?.statusSectors?.returns?.approved??0),refunding:Number(e?.status_sectors?.returns?.refunding??e?.statusSectors?.returns?.refunding??0),refunded:Number(e?.status_sectors?.returns?.refunded??e?.statusSectors?.returns?.refunded??0),rejected:Number(e?.status_sectors?.returns?.rejected??e?.statusSectors?.returns?.rejected??0)},inquiries:{open:Number(e?.status_sectors?.inquiries?.open??e?.statusSectors?.inquiries?.open??0),answered:Number(e?.status_sectors?.inquiries?.answered??e?.statusSectors?.inquiries?.answered??0),closed:Number(e?.status_sectors?.inquiries?.closed??e?.statusSectors?.inquiries?.closed??0)},settlements:{pending:Number(e?.status_sectors?.settlements?.pending??e?.statusSectors?.settlements?.pending??0),hold:Number(e?.status_sectors?.settlements?.hold??e?.statusSectors?.settlements?.hold??0),scheduled:Number(e?.status_sectors?.settlements?.scheduled??e?.statusSectors?.settlements?.scheduled??0),paid:Number(e?.status_sectors?.settlements?.paid??e?.statusSectors?.settlements?.paid??0)}}}}async function Re({q:e,status:t,paymentStatus:n,shippingStatus:i,hasOpenReturn:s,limit:r=80}={}){const a=await o("/admin/orders",{query:{q:e,status:t,payment_status:n,shipping_status:i,has_open_return:typeof s=="boolean"?String(s):void 0,limit:r}});return Array.isArray(a)?a.map(Y):[]}async function Le(e,t={}){const n={};t.recipient!==void 0&&(n.recipient=t.recipient),t.phone!==void 0&&(n.phone=t.phone),t.postalCode!==void 0&&(n.postal_code=t.postalCode),t.roadAddress!==void 0&&(n.road_address=t.roadAddress),t.jibunAddress!==void 0&&(n.jibun_address=t.jibunAddress),t.detailAddress!==void 0&&(n.detail_address=t.detailAddress),t.status!==void 0&&(n.status=t.status),t.paymentStatus!==void 0&&(n.payment_status=t.paymentStatus),t.shippingStatus!==void 0&&(n.shipping_status=t.shippingStatus),t.courierName!==void 0&&(n.courier_name=t.courierName),t.trackingNo!==void 0&&(n.tracking_no=t.trackingNo),t.issueInvoice!==void 0&&(n.issue_invoice=t.issueInvoice),t.markDelivered!==void 0&&(n.mark_delivered=t.markDelivered);const i=await o(`/admin/orders/${e}`,{method:"PATCH",body:n});return Y(i||{})}async function De({q:e,status:t,category:n,priority:i,assignedAdminId:s,overdue:r,limit:a}={}){const u=await o("/admin/inquiries",{query:{q:e,status:t,category:n,priority:i,assigned_admin_id:s,overdue:typeof r=="boolean"?String(r):void 0,limit:a}});return Array.isArray(u)?u.map(X):[]}async function $e(e,{answer:t,status:n,category:i,priority:s,assignedAdminId:r,internalNote:a,slaDueAt:u,deleteAnswer:d}={}){const p=await o(`/admin/inquiries/${e}/answer`,{method:"PATCH",body:{answer:t,delete_answer:d,status:n,category:i,priority:s,assigned_admin_id:r,internal_note:a,sla_due_at:u}});return X(p||{})}async function Ie({status:e,productId:t,sort:n="latest",page:i=1,pageSize:s=10,q:r}={}){const a=await o("/admin/reviews",{query:{status:e,product_id:t,sort:n,page:i,page_size:s,q:r}}),u=R(a).map(K),d=Number(a?.count??u.length),p=Number(a?.page_size??s??10)||10,l=Number(a?.total_pages??Math.max(1,Math.ceil(d/p))),_=Number(a?.page??i??1);return{items:u,count:d,page:_,pageSize:p,totalPages:l,hasNext:!!(a?.has_next??_<l),hasPrevious:!!(a?.has_previous??_>1)}}async function ze(e,t){const n=await o(`/admin/reviews/${e}/visibility`,{method:"PATCH",body:{visible:!!t}});return K(n||{})}async function Fe(e){return o(`/admin/reviews/${e}`,{method:"DELETE"})}async function Ue({q:e,status:t,limit:n=200}={}){const i=await o("/admin/returns",{query:{q:e,status:t,limit:n}});return Array.isArray(i)?i.map($):[]}async function He({orderNo:e,reasonTitle:t,reasonDetail:n,requestedAmount:i}={}){const s=await o("/admin/returns",{method:"POST",body:{order_no:e,reason_title:t,reason_detail:n,requested_amount:i}});return $(s||{})}async function je(e,{status:t,approvedAmount:n,rejectedReason:i,pickupCourierName:s,pickupTrackingNo:r,adminNote:a}={}){const u=await o(`/admin/returns/${e}`,{method:"PATCH",body:{status:t,approved_amount:n,rejected_reason:i,pickup_courier_name:s,pickup_tracking_no:r,admin_note:a}});return $(u||{})}async function Je(e){return o(`/admin/returns/${e}`,{method:"DELETE"})}async function We({q:e,status:t,limit:n=200}={}){const i=await o("/admin/settlements",{query:{q:e,status:t,limit:n}});return Array.isArray(i)?i.map(Q):[]}async function Ge({onlyPaidOrders:e=!0}={}){return o("/admin/settlements",{method:"POST",body:{only_paid_orders:e}})}async function Ye(e,{status:t,pgFee:n,platformFee:i,returnDeduction:s,expectedPayoutDate:r,markPaid:a,memo:u}={}){const d=await o(`/admin/settlements/${e}`,{method:"PATCH",body:{status:t,pg_fee:n,platform_fee:i,return_deduction:s,expected_payout_date:r,mark_paid:a,memo:u}});return Q(d||{})}async function Xe(e){return o(`/admin/settlements/${e}`,{method:"DELETE"})}async function Ke(){const e=await o("/admin/staff-users");return Array.isArray(e)?e.map(t=>({id:Number(t.id||0),email:t.email||"",name:t.name||""})):[]}async function Qe(){const e=await o("/admin/banners/home/manage");return Array.isArray(e)?e.map(I):[]}async function Ve({subtitle:e,title:t,description:n,ctaText:i,linkUrl:s,sortOrder:r,isActive:a,imageFile:u}={}){const d=new FormData;e!==void 0&&d.append("subtitle",e),t!==void 0&&d.append("title",t),n!==void 0&&d.append("description",n),i!==void 0&&d.append("cta_text",i),s!==void 0&&d.append("link_url",s),r!==void 0&&d.append("sort_order",String(r)),a!==void 0&&d.append("is_active",String(!!a)),u&&d.append("image",u);const p=await o("/admin/banners/home/manage",{method:"POST",body:d,isForm:!0});return I(p||{})}async function Ze(e,{subtitle:t,title:n,description:i,ctaText:s,linkUrl:r,sortOrder:a,isActive:u,imageFile:d}={}){const p=new FormData;t!==void 0&&p.append("subtitle",t),n!==void 0&&p.append("title",n),i!==void 0&&p.append("description",i),s!==void 0&&p.append("cta_text",s),r!==void 0&&p.append("link_url",r),a!==void 0&&p.append("sort_order",String(a)),u!==void 0&&p.append("is_active",String(!!u)),d&&p.append("image",d);const l=await o(`/admin/banners/home/manage/${e}`,{method:"PATCH",body:p,isForm:!0});return I(l||{})}async function we(e){return o(`/admin/banners/home/manage/${e}`,{method:"DELETE"})}async function et(){const e=await o("/admin/products/manage/meta");return{badgeOptions:Array.isArray(e?.badge_options)?e.badge_options.map(t=>({code:t.code||"",label:t.label||t.code||""})):[],taxStatusOptions:Array.isArray(e?.tax_status_options)?e.tax_status_options.map(t=>({code:t.code||"",label:t.label||t.code||""})):[],categoryOptions:Array.isArray(e?.category_options)?e.category_options.map(t=>({id:Number(t.id||0),name:t.name||"",slug:t.slug||""})):[]}}async function tt({q:e,isActive:t,categoryId:n,limit:i=200}={}){const s=await o("/admin/products/manage",{query:{q:e,is_active:typeof t=="boolean"?String(t):void 0,category_id:n,limit:i}});return Array.isArray(s)?s.map(z):[]}async function nt({categoryId:e,sku:t,name:n,oneLine:i,description:s,intake:r,target:a,manufacturer:u,originCountry:d,taxStatus:p,deliveryFee:l,freeShippingAmount:_,searchKeywords:A,releaseDate:b,displayStartAt:C,displayEndAt:k,price:q,originalPrice:O,stock:P,isActive:E,badgeTypes:v,thumbnailFile:N,imageFiles:x}={}){const c=new FormData;e!=null&&c.append("category_id",String(e)),t!==void 0&&c.append("sku",t),n!==void 0&&c.append("name",n),i!==void 0&&c.append("one_line",i),s!==void 0&&c.append("description",s),r!==void 0&&c.append("intake",r),a!==void 0&&c.append("target",a),u!==void 0&&c.append("manufacturer",u),d!==void 0&&c.append("origin_country",d),p!==void 0&&c.append("tax_status",p),l!==void 0&&c.append("delivery_fee",String(l)),_!==void 0&&c.append("free_shipping_amount",String(_)),Array.isArray(A)&&(A.length?A.forEach(h=>c.append("search_keywords",h)):c.append("search_keywords","")),b!==void 0&&c.append("release_date",b||""),C!==void 0&&c.append("display_start_at",C||""),k!==void 0&&c.append("display_end_at",k||""),q!==void 0&&c.append("price",String(q)),O!==void 0&&c.append("original_price",String(O)),P!==void 0&&c.append("stock",String(P)),E!==void 0&&c.append("is_active",String(!!E)),Array.isArray(v)&&(v.length?v.forEach(h=>c.append("badge_types",h)):c.append("badge_types","")),N&&c.append("thumbnail",N),Array.isArray(x)&&x.filter(Boolean).forEach(h=>c.append("images",h));const T=await o("/admin/products/manage",{method:"POST",body:c,isForm:!0});return z(T||{})}async function it(e,{categoryId:t,sku:n,name:i,oneLine:s,description:r,intake:a,target:u,manufacturer:d,originCountry:p,taxStatus:l,deliveryFee:_,freeShippingAmount:A,searchKeywords:b,releaseDate:C,displayStartAt:k,displayEndAt:q,price:O,originalPrice:P,stock:E,isActive:v,badgeTypes:N,thumbnailFile:x,imageFiles:c,deleteImageIds:T,thumbnailImageId:h}={}){const m=new FormData;t!==void 0&&(t===null||t===""?m.append("category_id",""):m.append("category_id",String(t))),n!==void 0&&m.append("sku",n),i!==void 0&&m.append("name",i),s!==void 0&&m.append("one_line",s),r!==void 0&&m.append("description",r),a!==void 0&&m.append("intake",a),u!==void 0&&m.append("target",u),d!==void 0&&m.append("manufacturer",d),p!==void 0&&m.append("origin_country",p),l!==void 0&&m.append("tax_status",l),_!==void 0&&m.append("delivery_fee",String(_)),A!==void 0&&m.append("free_shipping_amount",String(A)),Array.isArray(b)&&(b.length?b.forEach(g=>m.append("search_keywords",g)):m.append("search_keywords","")),C!==void 0&&m.append("release_date",C||""),k!==void 0&&m.append("display_start_at",k||""),q!==void 0&&m.append("display_end_at",q||""),O!==void 0&&m.append("price",String(O)),P!==void 0&&m.append("original_price",String(P)),E!==void 0&&m.append("stock",String(E)),v!==void 0&&m.append("is_active",String(!!v)),Array.isArray(N)&&(N.length?N.forEach(g=>m.append("badge_types",g)):m.append("badge_types","")),x&&m.append("thumbnail",x),Array.isArray(c)&&c.filter(Boolean).forEach(g=>m.append("images",g)),Array.isArray(T)&&T.length&&T.forEach(g=>m.append("delete_image_ids",String(g))),h!=null&&m.append("thumbnail_image_id",String(h));const ee=await o(`/admin/products/manage/${e}`,{method:"PATCH",body:m,isForm:!0});return z(ee||{})}async function st(e){return o(`/admin/products/manage/${e}`,{method:"DELETE"})}async function rt({q:e,isActive:t,isStaff:n,limit:i=200}={}){const s=await o("/admin/users/manage",{query:{q:e,is_active:typeof t=="boolean"?String(t):void 0,is_staff:typeof n=="boolean"?String(n):void 0,limit:i}});return Array.isArray(s)?s.map(me):[]}async function ot({q:e,isUsed:t}={}){const n=await o("/admin/coupons",{query:{q:e,is_used:typeof t=="boolean"?String(t):void 0}});return Array.isArray(n)?n.map(i=>({id:i.id,userEmail:i.user_email||i.userEmail||"",name:i.name||"",code:i.code||"",discountAmount:Number(i.discount_amount??i.discountAmount??0),minOrderAmount:Number(i.min_order_amount??i.minOrderAmount??0),expiresAt:i.expires_at||i.expiresAt||null,isUsed:!!(i.is_used??i.isUsed),usedAt:i.used_at||i.usedAt||null,isExpired:!!(i.is_expired??i.isExpired),createdAt:i.created_at||i.createdAt||null})):[]}async function at({target:e,email:t,name:n,code:i,discountAmount:s,minOrderAmount:r,expiresAt:a}){return o("/admin/coupons",{method:"POST",body:{target:e,email:t,name:n,code:i,discount_amount:s,min_order_amount:r,expires_at:a||null}})}async function ut(e){return o(`/admin/coupons/${e}`,{method:"DELETE"})}async function dt({productId:e,score:t,title:n,content:i,images:s=[]}){const r=new FormData;r.append("product_id",String(e)),r.append("score",String(t)),r.append("title",n||""),r.append("content",i||""),s.forEach(u=>{r.append("images",u)});const a=await o("/reviews",{method:"POST",body:r,isForm:!0});return L(a)}function ct(){return H(f.user,null)}function Z(){return D()}function fe(){return!!Z()?.access}async function mt({email:e,password:t}){const n=await pe({email:e,password:t}),i=n?.tokens||null,s=n?.user||null;return j(i),y(f.user,s),s}async function he(){const e=Z()?.refresh;try{e&&await le({refresh:e})}catch{}w()}function w(){M(),y(f.user,null)}async function pt(){if(!fe())return null;try{const e=await _e();return y(f.user,e),e}catch{return w(),null}}const ye="../dist/assets/logo/main_logo.svg",U=["/dist/assets/logo/main_logo.svg","dist/assets/logo/main_logo.svg"];function lt({showCart:e=!0,currentNav:t=""}={}){const n=document.getElementById("siteHeaderMount");if(!n)return{accountLink:null,adminLink:null,logoutBtn:null,cartCount:null};n.innerHTML=`
    <header class="site-header">
      <div class="site-header-top">
        <a class="brand" href="/pages/home.html">
          <img src="${ye}" alt="소살리토" class="brand-logo" />
          <div>
            <h1>소살리토</h1>
            <p>러너를 위한 웰니스 브랜드</p>
          </div>
        </a>
        <div class="header-actions">
          <div class="header-account">
            <a class="text-btn" href="/pages/login.html" id="accountLink">로그인</a>
            <a class="text-btn" href="/pages/admin.html" id="adminLink" hidden>관리자</a>
            <button class="icon-btn header-logout-btn" id="logoutBtn" type="button" hidden>로그아웃</button>
          </div>
          ${e?`<a class="icon-btn cart-link" href="/pages/cart.html" aria-label="장바구니">
                   <svg class="cart-svg" viewBox="0 0 24 24" aria-hidden="true">
                     <path d="M3 4h2l2.4 10.2a1 1 0 0 0 1 .8h8.9a1 1 0 0 0 1-.8L20 7H7" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                     <circle cx="10" cy="19" r="1.6" fill="currentColor"/>
                     <circle cx="17" cy="19" r="1.6" fill="currentColor"/>
                   </svg>
                   <span class="cart-link-label">장바구니</span>
                   <span class="count" id="cartCount">0</span>
                 </a>`:""}
        </div>
      </div>
      <div class="site-anchor-nav-wrap">
        <nav class="site-anchor-nav">
          <a href="/pages/home.html" class="${t==="home"?"active":""}">홈</a>
          <a href="/pages/brand.html" class="${t==="brand"?"active":""}">브랜드</a>
          <a href="/pages/shop.html" class="${t==="shop"?"active":""}">쇼핑</a>
          <a href="/pages/reviews.html" class="${t==="review"?"active":""}">리뷰</a>
        </nav>
      </div>
    </header>
  `;const i=n.querySelector(".brand-logo");if(i){let r=0;i.addEventListener("error",()=>{r>=U.length||(i.src=U[r],r+=1)})}const s=n.querySelector("#logoutBtn");return s&&s.addEventListener("click",async()=>{try{await he()}catch(r){console.error(r)}finally{location.href="/pages/home.html"}}),{accountLink:n.querySelector("#accountLink"),adminLink:n.querySelector("#adminLink"),logoutBtn:s,cartCount:n.querySelector("#cartCount")}}function _t(e,{userName:t=null,isAdmin:n=!1,cartCountValue:i=null}={}){e.accountLink&&(t?(e.accountLink.textContent="마이페이지",e.accountLink.href="/pages/mypage.html"):(e.accountLink.textContent="로그인",e.accountLink.href="/pages/login.html")),e.adminLink&&(e.adminLink.hidden=!t||!n),e.logoutBtn&&(e.logoutBtn.hidden=!t),e.cartCount&&typeof i=="number"&&(e.cartCount.textContent=i)}function ft(){const e=document.getElementById("siteFooterMount");e&&(e.innerHTML=`
    <footer class="site-footer">
      <div class="site-footer-inner">
        <nav class="site-footer-links">
          <a href="/pages/privacy.html">개인정보처리방침</a>
          <a href="/pages/terms.html">이용약관</a>
          <a href="/pages/guide.html">이용안내</a>
        </nav>
        <div class="site-footer-info">
          <p><strong>상호</strong> 주식회사 네로</p>
          <p><strong>대표</strong> 한동균, 박호연</p>
          <p><strong>사업자등록번호</strong> 123-45-67890</p>
          <p><strong>통신판매업신고</strong> 2026-서울마포-0001</p>
          <p><strong>주소</strong> 서울특별시 중구 퇴계로36길 2</p>
          <p><strong>고객센터</strong> 1588-1234 (평일 10:00 - 18:00 / 점심 12:30 - 13:30)</p>
          <p><strong>이메일</strong> cs@nero.ai.kr</p>
        </div>
        <p class="site-footer-copy">Copyright © Nero Inc. All rights reserved.</p>
      </div>
    </footer>
  `)}export{fe as $,nt as A,at as B,Me as C,We as D,Re as E,Ue as F,De as G,Ie as H,tt as I,rt as J,Le as K,Je as L,je as M,Xe as N,Ye as O,$e as P,Qe as Q,we as R,Ze as S,st as T,it as U,ze as V,Fe as W,ot as X,ut as Y,Ke as Z,et as _,ft as a,o as a0,Ne as b,Se as c,_t as d,Ce as e,ge as f,ct as g,dt as h,Ee as i,Ae as j,be as k,ve as l,lt as m,Pe as n,mt as o,Oe as p,he as q,xe as r,pt as s,Te as t,qe as u,Be as v,ke as w,Ge as x,He as y,Ve as z};
