(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();const l={cart:"sausalito_cart",wishlist:"sausalito_wishlist",user:"sausalito_user",tokens:"sausalito_tokens"};function T(e,t){try{return JSON.parse(localStorage.getItem(e)||JSON.stringify(t))}catch{return t}}function f(e,t){localStorage.setItem(e,JSON.stringify(t))}const F="http://127.0.0.1:8000/api/v1".replace(/\/$/,"");let y=null;class H extends Error{constructor(t,i=500,n="API_ERROR",s={}){super(t),this.name="ApiError",this.status=i,this.code=n,this.details=s}}function v(){return T(l.tokens,null)}function x(e){f(l.tokens,e)}function h(){f(l.tokens,null)}function R(e,t={}){const i=e.startsWith("/")?e:`/${e}`,n=new URL(`${F}${i}`);return Object.entries(t).forEach(([s,r])=>{r==null||r===""||n.searchParams.set(s,String(r))}),n.toString()}async function B(e){const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return null}}function U(e,t){const i=t?.error||{},n=i.message||t?.message||"요청 처리 중 오류가 발생했습니다.";return new H(n,e,i.code||"API_ERROR",i.details||{})}async function j(){const e=v();return e?.refresh?y||(y=(async()=>{const t=await fetch(R("/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:e.refresh})}),i=await B(t);if(!t.ok||i?.success===!1)return h(),f(l.user,null),!1;const n=i?.data||i;return n?.access?(x({access:n.access,refresh:n.refresh||e.refresh}),!0):(h(),f(l.user,null),!1)})().catch(()=>(h(),f(l.user,null),!1)).finally(()=>{y=null}),y):!1}async function o(e,{method:t="GET",query:i={},body:n,auth:s=!0,isForm:r=!1,retryOnAuth:a=!0}={}){const d={},c=v();r||(d["Content-Type"]="application/json"),s&&c?.access&&(d.Authorization=`Bearer ${c.access}`);const u=await fetch(R(e,i),{method:t,headers:d,body:n?r?n:JSON.stringify(n):void 0}),m=await B(u);if(u.status===401&&s&&a&&c?.refresh&&await j())return o(e,{method:t,query:i,body:n,auth:s,isForm:r,retryOnAuth:!1});if(!u.ok||m?.success===!1)throw U(u.status,m);return m?.data!==void 0?m.data:m}function g(e){return e?Array.isArray(e)?e:Array.isArray(e.results)?e.results:[]:[]}function J(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const i=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${i}.${n}.${s}`}function _(e={}){const t=Number(e.rating??e.rating_avg??e.review_summary?.avg??0),i=Number(e.reviews??e.review_count??e.review_summary?.count??0);return{id:e.id,name:e.name||"",oneLine:e.oneLine??e.one_line??"",description:e.description||"",price:Number(e.price||0),originalPrice:Number(e.originalPrice??e.original_price??e.price??0),stock:Number(e.stock||0),badges:Array.isArray(e.badges)?e.badges:[],rating:t,reviews:i,popularScore:Number(e.popularScore??e.popular_score??0),releaseDate:e.releaseDate??e.release_date??"",image:e.image||e.images?.find(n=>n.is_thumbnail)?.url||e.images?.[0]?.url||""}}function W(e={}){return{..._(e),intake:e.intake||"",target:e.target||"",ingredients:Array.isArray(e.ingredients)?e.ingredients:[],cautions:Array.isArray(e.cautions)?e.cautions:[],faq:Array.isArray(e.faq)?e.faq:[],images:Array.isArray(e.images)?e.images.map(i=>i.url).filter(Boolean):[],options:Array.isArray(e.options)?e.options.map(i=>({id:i.id,name:i.name,price:Number(i.price||0),stock:Number(i.stock||0)})):[]}}function L(){return{couponText:"",shippingFee:3e3,freeShippingThreshold:5e4,interestFreeText:"",purchaseTypes:[],subscriptionBenefit:"",optionsLabel:"상품구성",options:[],addOns:[],todayShipText:"",inquiryCount:0,detailImages:[]}}function G(e){return e?{couponText:e.coupon_text||"",shippingFee:Number(e.shipping_fee||3e3),freeShippingThreshold:Number(e.free_shipping_threshold||5e4),interestFreeText:e.interest_free_text||"",purchaseTypes:Array.isArray(e.purchase_types)?e.purchase_types:[],subscriptionBenefit:e.subscription_benefit||"",optionsLabel:e.options_label||"상품구성",options:Array.isArray(e.options)?e.options.map(t=>({id:t.id,name:t.name,price:Number(t.price||0),stock:Number(t.stock||0)})):[],addOns:Array.isArray(e.add_ons)?e.add_ons:[],todayShipText:e.today_ship_text||"",inquiryCount:Number(e.inquiry_count||0),detailImages:Array.isArray(e.detail_images)?e.detail_images:[]}:L()}function A(e={}){const t=Array.isArray(e.images)?e.images.map(n=>typeof n=="string"?n:n&&typeof n=="object"&&n.url||"").filter(Boolean):[],i=e.image||t[0]||"";return{id:e.id,productId:Number(e.productId??e.product_id??e.product?.id??0),user:e.user||e.user_masked||"익명",score:Number(e.score||0),text:e.text||e.content||"",date:e.date||J(e.created_at),helpful:Number(e.helpful??e.helpful_count??0),image:i,images:t,createdAt:e.created_at||null}}function K(e={}){return{id:e.id,orderNo:e.order_no||e.orderNo||"",status:e.status||"",paymentStatus:e.payment_status||e.paymentStatus||"",totalAmount:Number(e.total_amount??e.totalAmount??0),createdAt:e.created_at||e.createdAt||null,recipient:e.recipient||"",itemCount:Array.isArray(e.items)?e.items.length:0,items:Array.isArray(e.items)?e.items:[]}}function O(e={}){return{id:e.id,txType:e.tx_type||e.txType||"",amount:Number(e.amount||0),balanceAfter:Number(e.balance_after??e.balanceAfter??0),description:e.description||"",createdAt:e.created_at||e.createdAt||null}}function Y(e={}){return{id:e.id,name:e.name||"",code:e.code||"",discountAmount:Number(e.discount_amount??e.discountAmount??0),minOrderAmount:Number(e.min_order_amount??e.minOrderAmount??0),expiresAt:e.expires_at||e.expiresAt||null,isUsed:!!(e.is_used??e.isUsed),usedAt:e.used_at||e.usedAt||null,isExpired:!!(e.is_expired??e.isExpired),createdAt:e.created_at||e.createdAt||null}}function Q(e={}){const t=e.shopping||{},i=e.activity||{},n=t.summary||{};return{shopping:{summary:{orderCount:Number(n.order_count??n.orderCount??0),pointBalance:Number(n.point_balance??n.pointBalance??0),depositBalance:Number(n.deposit_balance??n.depositBalance??0),couponCount:Number(n.coupon_count??n.couponCount??0)},orders:Array.isArray(t.orders)?t.orders.map(K):[],pointHistory:Array.isArray(t.point_history)?t.point_history.map(O):[],depositHistory:Array.isArray(t.deposit_history)?t.deposit_history.map(O):[],couponHistory:Array.isArray(t.coupon_history)?t.coupon_history.map(Y):[]},activity:{recentProducts:Array.isArray(i.recent_products)?i.recent_products.map(_):[],wishlistProducts:Array.isArray(i.wishlist_products)?i.wishlist_products.map(_):[],myReviews:Array.isArray(i.my_reviews)?i.my_reviews.map(A):[]},profile:e.profile||null,inquiries:Array.isArray(e.inquiries)?e.inquiries:[]}}function N(e={}){return{id:e.id,orderNo:e.order_no||e.orderNo||"",userEmail:e.user_email||e.userEmail||"",userName:e.user_name||e.userName||"",status:e.status||"",paymentStatus:e.payment_status||e.paymentStatus||"",shippingStatus:e.shipping_status||e.shippingStatus||"",subtotalAmount:Number(e.subtotal_amount??e.subtotalAmount??0),shippingFee:Number(e.shipping_fee??e.shippingFee??0),discountAmount:Number(e.discount_amount??e.discountAmount??0),totalAmount:Number(e.total_amount??e.totalAmount??0),recipient:e.recipient||"",phone:e.phone||"",postalCode:e.postal_code||e.postalCode||"",roadAddress:e.road_address||e.roadAddress||"",detailAddress:e.detail_address||e.detailAddress||"",courierName:e.courier_name||e.courierName||"",trackingNo:e.tracking_no||e.trackingNo||"",invoiceIssuedAt:e.invoice_issued_at||e.invoiceIssuedAt||null,shippedAt:e.shipped_at||e.shippedAt||null,deliveredAt:e.delivered_at||e.deliveredAt||null,createdAt:e.created_at||e.createdAt||null,itemCount:Number(e.item_count??e.itemCount??0),returnRequestCount:Number(e.return_request_count??e.returnRequestCount??0),hasOpenReturn:!!(e.has_open_return??e.hasOpenReturn),settlementStatus:e.settlement_status||e.settlementStatus||""}}function S(e={}){return{id:e.id,userEmail:e.user_email||e.userEmail||"",userName:e.user_name||e.userName||"",title:e.title||"",content:e.content||"",category:e.category||"ETC",priority:e.priority||"NORMAL",status:e.status||"",channel:e.channel||"WEB",assignedAdminId:Number(e.assigned_admin_id??e.assignedAdminId??0)||null,assignedAdminEmail:e.assigned_admin_email||e.assignedAdminEmail||"",internalNote:e.internal_note||e.internalNote||"",answer:e.answer||"",firstResponseAt:e.first_response_at||e.firstResponseAt||null,answeredAt:e.answered_at||e.answeredAt||null,resolvedAt:e.resolved_at||e.resolvedAt||null,slaDueAt:e.sla_due_at||e.slaDueAt||null,isSlaOverdue:!!(e.is_sla_overdue??e.isSlaOverdue),createdAt:e.created_at||e.createdAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function k(e={}){return{id:e.id,productId:Number(e.product_id??e.productId??0),productName:e.product_name||e.productName||"",userEmail:e.user_email||e.userEmail||"",userName:e.user_name||e.userName||"",score:Number(e.score||0),title:e.title||"",content:e.content||"",status:e.status||"",helpfulCount:Number(e.helpful_count??e.helpfulCount??0),createdAt:e.created_at||e.createdAt||null,images:Array.isArray(e.images)?e.images.filter(Boolean):[]}}function b(e={}){return{id:e.id,orderNo:e.order_no||e.orderNo||"",userEmail:e.user_email||e.userEmail||"",status:e.status||"",reasonTitle:e.reason_title||e.reasonTitle||"",reasonDetail:e.reason_detail||e.reasonDetail||"",requestedAmount:Number(e.requested_amount??e.requestedAmount??0),approvedAmount:Number(e.approved_amount??e.approvedAmount??0),rejectedReason:e.rejected_reason||e.rejectedReason||"",pickupCourierName:e.pickup_courier_name||e.pickupCourierName||"",pickupTrackingNo:e.pickup_tracking_no||e.pickupTrackingNo||"",adminNote:e.admin_note||e.adminNote||"",requestedAt:e.requested_at||e.requestedAt||null,approvedAt:e.approved_at||e.approvedAt||null,receivedAt:e.received_at||e.receivedAt||null,refundedAt:e.refunded_at||e.refundedAt||null,closedAt:e.closed_at||e.closedAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function C(e={}){return{id:e.id,orderNo:e.order_no||e.orderNo||"",userEmail:e.user_email||e.userEmail||"",status:e.status||"",grossAmount:Number(e.gross_amount??e.grossAmount??0),discountAmount:Number(e.discount_amount??e.discountAmount??0),shippingFee:Number(e.shipping_fee??e.shippingFee??0),pgFee:Number(e.pg_fee??e.pgFee??0),platformFee:Number(e.platform_fee??e.platformFee??0),returnDeduction:Number(e.return_deduction??e.returnDeduction??0),settlementAmount:Number(e.settlement_amount??e.settlementAmount??0),expectedPayoutDate:e.expected_payout_date||e.expectedPayoutDate||null,paidAt:e.paid_at||e.paidAt||null,memo:e.memo||"",orderCreatedAt:e.order_created_at||e.orderCreatedAt||null,orderPaymentStatus:e.order_payment_status||e.orderPaymentStatus||"",orderShippingStatus:e.order_shipping_status||e.orderShippingStatus||"",createdAt:e.created_at||e.createdAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function P(e={}){return{id:Number(e.id||0),subtitle:e.subtitle||"",title:e.title||"",description:e.description||"",ctaText:e.cta_text||e.ctaText||"",linkUrl:e.link_url||e.linkUrl||"",sortOrder:Number(e.sort_order??e.sortOrder??0),isActive:!!(e.is_active??e.isActive),imageUrl:e.image_url||e.imageUrl||"",createdAt:e.created_at||e.createdAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function E(e={}){return{id:Number(e.id||0),name:e.name||"",oneLine:e.one_line||e.oneLine||"",description:e.description||"",price:Number(e.price??0),originalPrice:Number(e.original_price??e.originalPrice??0),stock:Number(e.stock??0),isActive:!!(e.is_active??e.isActive),categoryName:e.category_name||e.categoryName||"",badgeTypes:Array.isArray(e.badge_types)?e.badge_types:[],thumbnailUrl:e.thumbnail_url||e.thumbnailUrl||"",createdAt:e.created_at||e.createdAt||null,updatedAt:e.updated_at||e.updatedAt||null}}function D(e={}){return{id:Number(e.id||0),email:e.email||"",name:e.name||"",phone:e.phone||"",isActive:!!(e.is_active??e.isActive),isStaff:!!(e.is_staff??e.isStaff),orderCount:Number(e.order_count??e.orderCount??0),reviewCount:Number(e.review_count??e.reviewCount??0),inquiryCount:Number(e.inquiry_count??e.inquiryCount??0),createdAt:e.created_at||e.createdAt||null,lastLogin:e.last_login||e.lastLogin||null}}async function I({productId:e,sort:t="latest",hasImage:i,pageSize:n=100}={}){let s=1,r=null;const a=[];for(;s<=100;){const d=await o("/reviews",{query:{product_id:e,sort:t,has_image:typeof i=="boolean"?String(i):void 0,page:s,page_size:n},auth:!1,retryOnAuth:!1}),c=g(d);if(a.push(...c.map(A)),typeof d?.count=="number"&&(r=d.count),!d?.next||r!==null&&a.length>=r)break;s+=1}return a}async function V({email:e,password:t}){return o("/auth/login",{method:"POST",body:{email:e,password:t},auth:!1,retryOnAuth:!1})}async function X({refresh:e}){return o("/auth/logout",{method:"POST",body:{refresh:e}})}async function Z(){return o("/users/me")}async function ne({q:e,sort:t,minPrice:i,maxPrice:n}={}){const s=await o("/products",{query:{q:e,sort:t,min_price:i,max_price:n,page_size:100},auth:!1,retryOnAuth:!1});return g(s).map(_)}async function ie(e){if(!e)return null;const t=await o(`/products/${e}`,{auth:!1,retryOnAuth:!1});return W(t)}async function se(e){if(!e)return L();const t=await o(`/products/${e}/detail-meta`,{auth:!1,retryOnAuth:!1});return G(t)}async function re(e){return e?I({productId:e,sort:"latest",pageSize:100}):[]}async function oe(){return o("/banners/home",{auth:!1,retryOnAuth:!1})}async function ae(e=6){const t=await o("/reviews",{query:{sort:"helpful",page_size:e,page:1},auth:!1,retryOnAuth:!1});return g(t).map(A).slice(0,e)}async function ue(){return I({sort:"latest",pageSize:100})}async function de(){const e=await o("/users/me/dashboard");return Q(e)}async function ce({name:e,phone:t}){return o("/users/me",{method:"PATCH",body:{name:e,phone:t}})}async function me({oldPassword:e,newPassword:t,newPasswordConfirm:i}){return o("/users/me/password",{method:"POST",body:{old_password:e,new_password:t,new_password_confirm:i}})}async function le(){const e=await o("/users/me/wishlist");return Array.isArray(e)?e.map(_):[]}async function pe(e){const t=await o("/users/me/wishlist",{method:"POST",body:{product_id:e}});return _(t||{})}async function fe(e){return o(`/users/me/wishlist/${e}`,{method:"DELETE"})}async function _e(e){return o("/users/me/recent-products",{method:"POST",body:{product_id:e}})}async function ye({title:e,content:t}){return o("/users/me/inquiries",{method:"POST",body:{title:e,content:t}})}async function he(){const e=await o("/admin/dashboard"),t=e?.summary||{};return{summary:{totalOrders:Number(t.total_orders??t.totalOrders??0),paidOrders:Number(t.paid_orders??t.paidOrders??0),totalOrderAmount:Number(t.total_order_amount??t.totalOrderAmount??0),totalPaidAmount:Number(t.total_paid_amount??t.totalPaidAmount??0),todayPaidAmount:Number(t.today_paid_amount??t.todayPaidAmount??0),shippingPendingCount:Number(t.shipping_pending_count??t.shippingPendingCount??0),shippingShippedCount:Number(t.shipping_shipped_count??t.shippingShippedCount??0),shippingDeliveredCount:Number(t.shipping_delivered_count??t.shippingDeliveredCount??0),openInquiryCount:Number(t.open_inquiry_count??t.openInquiryCount??0),overdueInquiryCount:Number(t.overdue_inquiry_count??t.overdueInquiryCount??0),hiddenReviewCount:Number(t.hidden_review_count??t.hiddenReviewCount??0),openReturnCount:Number(t.open_return_count??t.openReturnCount??0),completedReturnCount:Number(t.completed_return_count??t.completedReturnCount??0),pendingSettlementAmount:Number(t.pending_settlement_amount??t.pendingSettlementAmount??0),paidSettlementAmount:Number(t.paid_settlement_amount??t.paidSettlementAmount??0)},recentOrders:Array.isArray(e?.recent_orders)?e.recent_orders.map(N):[],recentInquiries:Array.isArray(e?.recent_inquiries)?e.recent_inquiries.map(S):[],recentReviews:Array.isArray(e?.recent_reviews)?e.recent_reviews.map(k):[],recentReturns:Array.isArray(e?.recent_returns)?e.recent_returns.map(b):[],recentSettlements:Array.isArray(e?.recent_settlements)?e.recent_settlements.map(C):[]}}async function ge({q:e,status:t,paymentStatus:i,shippingStatus:n,hasOpenReturn:s,limit:r=80}={}){const a=await o("/admin/orders",{query:{q:e,status:t,payment_status:i,shipping_status:n,has_open_return:typeof s=="boolean"?String(s):void 0,limit:r}});return Array.isArray(a)?a.map(N):[]}async function Ae(e,t={}){const i={};t.status!==void 0&&(i.status=t.status),t.paymentStatus!==void 0&&(i.payment_status=t.paymentStatus),t.shippingStatus!==void 0&&(i.shipping_status=t.shippingStatus),t.courierName!==void 0&&(i.courier_name=t.courierName),t.trackingNo!==void 0&&(i.tracking_no=t.trackingNo),t.issueInvoice!==void 0&&(i.issue_invoice=t.issueInvoice),t.markDelivered!==void 0&&(i.mark_delivered=t.markDelivered);const n=await o(`/admin/orders/${e}`,{method:"PATCH",body:i});return N(n||{})}async function be({q:e,status:t,category:i,priority:n,assignedAdminId:s,overdue:r,limit:a}={}){const d=await o("/admin/inquiries",{query:{q:e,status:t,category:i,priority:n,assigned_admin_id:s,overdue:typeof r=="boolean"?String(r):void 0,limit:a}});return Array.isArray(d)?d.map(S):[]}async function ve(e,{answer:t,status:i,category:n,priority:s,assignedAdminId:r,internalNote:a,slaDueAt:d,deleteAnswer:c}={}){const u=await o(`/admin/inquiries/${e}/answer`,{method:"PATCH",body:{answer:t,delete_answer:c,status:i,category:n,priority:s,assigned_admin_id:r,internal_note:a,sla_due_at:d}});return S(u||{})}async function Ne({status:e,productId:t,sort:i="latest",page:n=1,pageSize:s=10,q:r}={}){const a=await o("/admin/reviews",{query:{status:e,product_id:t,sort:i,page:n,page_size:s,q:r}}),d=g(a).map(k),c=Number(a?.count??d.length),u=Number(a?.page_size??s??10)||10,m=Number(a?.total_pages??Math.max(1,Math.ceil(c/u))),p=Number(a?.page??n??1);return{items:d,count:c,page:p,pageSize:u,totalPages:m,hasNext:!!(a?.has_next??p<m),hasPrevious:!!(a?.has_previous??p>1)}}async function Se(e,t){const i=await o(`/admin/reviews/${e}/visibility`,{method:"PATCH",body:{visible:!!t}});return k(i||{})}async function ke(e){return o(`/admin/reviews/${e}`,{method:"DELETE"})}async function Ce({q:e,status:t,limit:i=200}={}){const n=await o("/admin/returns",{query:{q:e,status:t,limit:i}});return Array.isArray(n)?n.map(b):[]}async function Pe({orderNo:e,reasonTitle:t,reasonDetail:i,requestedAmount:n}={}){const s=await o("/admin/returns",{method:"POST",body:{order_no:e,reason_title:t,reason_detail:i,requested_amount:n}});return b(s||{})}async function Ee(e,{status:t,approvedAmount:i,rejectedReason:n,pickupCourierName:s,pickupTrackingNo:r,adminNote:a}={}){const d=await o(`/admin/returns/${e}`,{method:"PATCH",body:{status:t,approved_amount:i,rejected_reason:n,pickup_courier_name:s,pickup_tracking_no:r,admin_note:a}});return b(d||{})}async function Oe(e){return o(`/admin/returns/${e}`,{method:"DELETE"})}async function qe({q:e,status:t,limit:i=200}={}){const n=await o("/admin/settlements",{query:{q:e,status:t,limit:i}});return Array.isArray(n)?n.map(C):[]}async function Te({onlyPaidOrders:e=!0}={}){return o("/admin/settlements",{method:"POST",body:{only_paid_orders:e}})}async function xe(e,{status:t,pgFee:i,platformFee:n,returnDeduction:s,expectedPayoutDate:r,markPaid:a,memo:d}={}){const c=await o(`/admin/settlements/${e}`,{method:"PATCH",body:{status:t,pg_fee:i,platform_fee:n,return_deduction:s,expected_payout_date:r,mark_paid:a,memo:d}});return C(c||{})}async function Re(e){return o(`/admin/settlements/${e}`,{method:"DELETE"})}async function Be(){const e=await o("/admin/staff-users");return Array.isArray(e)?e.map(t=>({id:Number(t.id||0),email:t.email||"",name:t.name||""})):[]}async function Le(){const e=await o("/admin/banners/home/manage");return Array.isArray(e)?e.map(P):[]}async function De({subtitle:e,title:t,description:i,ctaText:n,linkUrl:s,sortOrder:r,isActive:a,imageFile:d}={}){const c=new FormData;e!==void 0&&c.append("subtitle",e),t!==void 0&&c.append("title",t),i!==void 0&&c.append("description",i),n!==void 0&&c.append("cta_text",n),s!==void 0&&c.append("link_url",s),r!==void 0&&c.append("sort_order",String(r)),a!==void 0&&c.append("is_active",String(!!a)),d&&c.append("image",d);const u=await o("/admin/banners/home/manage",{method:"POST",body:c,isForm:!0});return P(u||{})}async function Ie(e,{subtitle:t,title:i,description:n,ctaText:s,linkUrl:r,sortOrder:a,isActive:d,imageFile:c}={}){const u=new FormData;t!==void 0&&u.append("subtitle",t),i!==void 0&&u.append("title",i),n!==void 0&&u.append("description",n),s!==void 0&&u.append("cta_text",s),r!==void 0&&u.append("link_url",r),a!==void 0&&u.append("sort_order",String(a)),d!==void 0&&u.append("is_active",String(!!d)),c&&u.append("image",c);const m=await o(`/admin/banners/home/manage/${e}`,{method:"PATCH",body:u,isForm:!0});return P(m||{})}async function Me(e){return o(`/admin/banners/home/manage/${e}`,{method:"DELETE"})}async function $e({q:e,isActive:t,limit:i=200}={}){const n=await o("/admin/products/manage",{query:{q:e,is_active:typeof t=="boolean"?String(t):void 0,limit:i}});return Array.isArray(n)?n.map(E):[]}async function ze({name:e,oneLine:t,description:i,price:n,originalPrice:s,stock:r,isActive:a,badgeTypes:d,thumbnailFile:c}={}){const u=new FormData;e!==void 0&&u.append("name",e),t!==void 0&&u.append("one_line",t),i!==void 0&&u.append("description",i),n!==void 0&&u.append("price",String(n)),s!==void 0&&u.append("original_price",String(s)),r!==void 0&&u.append("stock",String(r)),a!==void 0&&u.append("is_active",String(!!a)),Array.isArray(d)&&(d.length?d.forEach(p=>u.append("badge_types",p)):u.append("badge_types","")),c&&u.append("thumbnail",c);const m=await o("/admin/products/manage",{method:"POST",body:u,isForm:!0});return E(m||{})}async function Fe(e,{name:t,oneLine:i,description:n,price:s,originalPrice:r,stock:a,isActive:d,badgeTypes:c,thumbnailFile:u}={}){const m=new FormData;t!==void 0&&m.append("name",t),i!==void 0&&m.append("one_line",i),n!==void 0&&m.append("description",n),s!==void 0&&m.append("price",String(s)),r!==void 0&&m.append("original_price",String(r)),a!==void 0&&m.append("stock",String(a)),d!==void 0&&m.append("is_active",String(!!d)),Array.isArray(c)&&(c.length?c.forEach(z=>m.append("badge_types",z)):m.append("badge_types","")),u&&m.append("thumbnail",u);const p=await o(`/admin/products/manage/${e}`,{method:"PATCH",body:m,isForm:!0});return E(p||{})}async function He(e){return o(`/admin/products/manage/${e}`,{method:"DELETE"})}async function Ue({q:e,isActive:t,isStaff:i,limit:n=200}={}){const s=await o("/admin/users/manage",{query:{q:e,is_active:typeof t=="boolean"?String(t):void 0,is_staff:typeof i=="boolean"?String(i):void 0,limit:n}});return Array.isArray(s)?s.map(D):[]}async function je(e,{name:t,phone:i,isActive:n,isStaff:s}={}){const r=await o(`/admin/users/manage/${e}`,{method:"PATCH",body:{name:t,phone:i,is_active:n,is_staff:s}});return D(r||{})}async function Je(e){return o(`/admin/users/manage/${e}`,{method:"DELETE"})}async function We({q:e,isUsed:t}={}){const i=await o("/admin/coupons",{query:{q:e,is_used:typeof t=="boolean"?String(t):void 0}});return Array.isArray(i)?i.map(n=>({id:n.id,userEmail:n.user_email||n.userEmail||"",name:n.name||"",code:n.code||"",discountAmount:Number(n.discount_amount??n.discountAmount??0),minOrderAmount:Number(n.min_order_amount??n.minOrderAmount??0),expiresAt:n.expires_at||n.expiresAt||null,isUsed:!!(n.is_used??n.isUsed),usedAt:n.used_at||n.usedAt||null,isExpired:!!(n.is_expired??n.isExpired),createdAt:n.created_at||n.createdAt||null})):[]}async function Ge({target:e,email:t,name:i,code:n,discountAmount:s,minOrderAmount:r,expiresAt:a}){return o("/admin/coupons",{method:"POST",body:{target:e,email:t,name:i,code:n,discount_amount:s,min_order_amount:r,expires_at:a||null}})}async function Ke(e){return o(`/admin/coupons/${e}`,{method:"DELETE"})}async function Ye({productId:e,score:t,title:i,content:n,images:s=[]}){const r=new FormData;r.append("product_id",String(e)),r.append("score",String(t)),r.append("title",i||""),r.append("content",n||""),s.forEach(d=>{r.append("images",d)});const a=await o("/reviews",{method:"POST",body:r,isForm:!0});return A(a)}function Qe(){return T(l.user,null)}function M(){return v()}function w(){return!!M()?.access}async function Ve({email:e,password:t}){const i=await V({email:e,password:t}),n=i?.tokens||null,s=i?.user||null;return x(n),f(l.user,s),s}async function ee(){const e=M()?.refresh;try{e&&await X({refresh:e})}catch{}$()}function $(){h(),f(l.user,null)}async function Xe(){if(!w())return null;try{const e=await Z();return f(l.user,e),e}catch{return $(),null}}const te="../dist/assets/logo/main_logo.svg",q=["/dist/assets/logo/main_logo.svg","dist/assets/logo/main_logo.svg"];function Ze({showCart:e=!0,currentNav:t=""}={}){const i=document.getElementById("siteHeaderMount");if(!i)return{accountLink:null,adminLink:null,logoutBtn:null,cartCount:null};i.innerHTML=`
    <header class="site-header">
      <div class="site-header-top">
        <a class="brand" href="/pages/home.html">
          <img src="${te}" alt="소살리토" class="brand-logo" />
          <div>
            <h1>소살리토</h1>
            <p>러너를 위한 웰니스 브랜드</p>
          </div>
        </a>
        <div class="header-actions">
          <div class="header-account">
            <a class="text-btn" href="/pages/login.html" id="accountLink">로그인</a>
            <a class="text-btn" href="/pages/admin.html" id="adminLink" hidden>관리자</a>
            <button class="icon-btn header-logout-btn" id="logoutBtn" type="button" hidden>로그아웃</button>
          </div>
          ${e?`<a class="icon-btn cart-link" href="/pages/cart.html" aria-label="장바구니">
                   <svg class="cart-svg" viewBox="0 0 24 24" aria-hidden="true">
                     <path d="M3 4h2l2.4 10.2a1 1 0 0 0 1 .8h8.9a1 1 0 0 0 1-.8L20 7H7" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                     <circle cx="10" cy="19" r="1.6" fill="currentColor"/>
                     <circle cx="17" cy="19" r="1.6" fill="currentColor"/>
                   </svg>
                   <span class="cart-link-label">장바구니</span>
                   <span class="count" id="cartCount">0</span>
                 </a>`:""}
        </div>
      </div>
      <div class="site-anchor-nav-wrap">
        <nav class="site-anchor-nav">
          <a href="/pages/home.html" class="${t==="home"?"active":""}">홈</a>
          <a href="/pages/brand.html" class="${t==="brand"?"active":""}">브랜드</a>
          <a href="/pages/shop.html" class="${t==="shop"?"active":""}">쇼핑</a>
          <a href="/pages/reviews.html" class="${t==="review"?"active":""}">리뷰</a>
        </nav>
      </div>
    </header>
  `;const n=i.querySelector(".brand-logo");if(n){let r=0;n.addEventListener("error",()=>{r>=q.length||(n.src=q[r],r+=1)})}const s=i.querySelector("#logoutBtn");return s&&s.addEventListener("click",async()=>{try{await ee()}catch(r){console.error(r)}finally{location.href="/pages/home.html"}}),{accountLink:i.querySelector("#accountLink"),adminLink:i.querySelector("#adminLink"),logoutBtn:s,cartCount:i.querySelector("#cartCount")}}function we(e,{userName:t=null,isAdmin:i=!1,cartCountValue:n=null}={}){e.accountLink&&(t?(e.accountLink.textContent="마이페이지",e.accountLink.href="/pages/mypage.html"):(e.accountLink.textContent="로그인",e.accountLink.href="/pages/login.html")),e.adminLink&&(e.adminLink.hidden=!t||!i),e.logoutBtn&&(e.logoutBtn.hidden=!t),e.cartCount&&typeof n=="number"&&(e.cartCount.textContent=n)}function et(){const e=document.getElementById("siteFooterMount");e&&(e.innerHTML=`
    <footer class="site-footer">
      <div class="site-footer-inner">
        <nav class="site-footer-links">
          <a href="/pages/privacy.html">개인정보처리방침</a>
          <a href="/pages/terms.html">이용약관</a>
          <a href="/pages/guide.html">이용안내</a>
        </nav>
        <div class="site-footer-info">
          <p><strong>상호</strong> 주식회사 네로</p>
          <p><strong>대표</strong> 한동균, 박호연</p>
          <p><strong>사업자등록번호</strong> 123-45-67890</p>
          <p><strong>통신판매업신고</strong> 2026-서울마포-0001</p>
          <p><strong>주소</strong> 서울특별시 중구 퇴계로36길 2</p>
          <p><strong>고객센터</strong> 1588-1234 (평일 10:00 - 18:00 / 점심 12:30 - 13:30)</p>
          <p><strong>이메일</strong> cs@nero.ai.kr</p>
        </div>
        <p class="site-footer-copy">Copyright © Nero Inc. All rights reserved.</p>
      </div>
    </footer>
  `)}export{Be as $,ze as A,Ge as B,he as C,qe as D,ge as E,Ce as F,be as G,Ne as H,$e as I,Ue as J,Ae as K,Oe as L,Ee as M,Re as N,xe as O,ve as P,Le as Q,Me as R,Ie as S,He as T,Fe as U,Je as V,je as W,Se as X,ke as Y,We as Z,Ke as _,et as a,w as a0,o as a1,oe as b,ae as c,we as d,ue as e,ne as f,Qe as g,Ye as h,pe as i,ie as j,se as k,re as l,Ze as m,le as n,Ve as o,me as p,ee as q,fe as r,Xe as s,_e as t,ce as u,ye as v,de as w,Te as x,Pe as y,De as z};
